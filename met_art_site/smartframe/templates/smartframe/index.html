<!DOCTYPE html>
<html lang="en">
    {% load static %}
    <head>
        <title>MetMuseumAPI Smart Frame</title>
        <link rel="stylesheet" type="text/css" href="{% static 'smartframe/style.css' %}">
    </head>
    <body>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">
        </script>
        <input type="hidden" id="total" value="{{ response.total }}">
        <script type="text/javascript">
            carousel();
            function carousel() {
                var i;
                var max = document.getElementById("total").value;
                var random_object_id = Math.floor(Math.random() * (max-1));
                var data;
                var src = 'https://collectionapi.metmuseum.org/public/collection/v1/objects/' + random_object_id;
                $.getJSON(src, function(data) {
                    var img = document.createElement('img');
                    console.log(data.primaryImageSmall);
                    img.src = data.primaryImageSmall;
                    document.body.append(img);
                });
                setTimeout(carousel, 10000);
            }
        </script>
    </body>
</html>